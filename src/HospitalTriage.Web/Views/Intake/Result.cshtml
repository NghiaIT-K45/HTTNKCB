@model HospitalTriage.Web.ViewModels.Intake.IntakeResultVm
@{
    ViewData["Title"] = "Kết quả tiếp nhận";
}

<div class="d-flex justify-content-between align-items-center mb-3">
    <div>
        <h2 class="mb-1">Kết quả tiếp nhận</h2>
        <div class="text-muted small">Tạo lượt khám thành công</div>
    </div>
    <a class="btn btn-outline-secondary" asp-controller="Dashboard" asp-action="Index">Về Dashboard</a>
</div>

<div class="card border-0 shadow-sm rounded-4">
    <div class="card-body p-4">
        <div class="d-flex justify-content-between align-items-start gap-3 mb-3">
            <div>
                <div class="text-muted small">Số thứ tự</div>
                <div class="display-6 mb-0">
                    <span class="badge bg-primary rounded-pill px-4 py-3">@Model.QueueNumber</span>
                </div>
            </div>

            <div class="text-end">
                <div class="text-muted small">Ngày khám</div>
                <div class="fw-semibold">@Model.VisitDate.ToString("yyyy-MM-dd")</div>
                <div class="text-muted small mt-1">VisitId: <span class="fw-semibold">#@Model.VisitId</span></div>
            </div>
        </div>

        <hr />

        <dl class="row mb-0">
            <dt class="col-sm-3 text-muted">Bệnh nhân</dt>
            <dd class="col-sm-9">
                <span class="fw-semibold">#@Model.PatientId</span>
                <span class="ms-2 badge @(Model.IsNewPatient ? "text-bg-success" : "text-bg-secondary")">
                    @(Model.IsNewPatient ? "Mới" : "Đã có")
                </span>
            </dd>

            <dt class="col-sm-3 text-muted">Lượt khám</dt>
            <dd class="col-sm-9"><span class="fw-semibold">#@Model.VisitId</span></dd>
        </dl>
    </div>
</div>

<div class="d-flex flex-wrap gap-2 mt-3">
    <a class="btn btn-primary" asp-controller="Intake" asp-action="Register">Tiếp nhận tiếp</a>

    <a class="btn btn-outline-primary"
       asp-controller="Triage" asp-action="Process" asp-route-id="@Model.VisitId">
        Đi tới phân luồng
    </a>

    <a class="btn btn-outline-secondary" asp-controller="Dashboard" asp-action="Index">Xem Dashboard</a>
</div>
